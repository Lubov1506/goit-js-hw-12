{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/icon-error.svg","../src/img/icon-warn.svg","../src/js/iziToast.js","../src/js/checkFunctions.js","../src/js/onFormSubmit.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = '43318381-7e1885a90dd63db156a286238';\naxios.defaults.baseURL = 'https://pixabay.com';\n\nconst getFetchData = async query => {\n  try {\n    const searchParams = {\n      params: {\n        key: KEY,\n        q: query,\n        image_type: 'photo',\n        safesearch: true,\n      },\n    };\n    const axiosResponse = await axios(`/api/`, searchParams)\n\n    return axiosResponse.data;\n  } catch (err) {\n    throw new Error(err);\n  }\n};\n\nexport { getFetchData };\n","const renderAllCards = data => {\n  return data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <ul class=\"item-info\">\n            <li class=\"item-likes\">\n              <p class=\"title likes-title\">Likes</p>\n              <p class=\"value likes-value\">${likes}</p>\n            </li>\n            <li class=\"item-views\">\n              <p class=\"title views-title\">Views</p>\n              <p class=\"value views-value\">${views}</p>\n            </li>\n            <li class=\"item-comments\">\n              <p class=\"title comments-title\">Comments</p>\n              <p class=\"value comments-value\">${comments}</p>\n            </li>\n            <li class=\"item-downloads\">\n              <p class=\"title downloads-title\">Downloads</p>\n              <p class=\"value downloads-value\">${downloads}</p>\n            </li>\n            </ul>`;\n      }\n    )\n    .join('');\n};\nexport { renderAllCards };\n","export default \"__VITE_ASSET__eb775c6f__\"","export default \"__VITE_ASSET__16c1a6bd__\"","import iziToast from 'izitoast';\nimport iconError from '../img/icon-error.svg';\nimport iconWarning from '../img/icon-warn.svg';\n\nconst optionsWarming = {\n  title: 'Caution',\n  message: 'Type what you want to find!',\n  backgroundColor: '#FFA000',\n  position: 'topRight',\n  theme: 'dark',\n  iconUrl: iconWarning,\n  timeout: 2000,\n};\nconst optionsError = {\n  theme: 'dark',\n  position: 'topRight',\n  message:\n    'Sorry, there are no images matching your search query. Please, try again!',\n  backgroundColor: ' #ef4040',\n  iconUrl: iconError,\n  maxWidth: '432px',\n  timeout: 2000,\n};\nconst warmMsg = () => {\n  iziToast.warning(optionsWarming);\n};\nconst errorMsg = () => {\n  iziToast.error(optionsError);\n};\n\nexport { warmMsg, errorMsg };\n","import { errorMsg, warmMsg } from './iziToast';\nconst galleryList = document.querySelector('.gallery');\nconst form = document.querySelector('form');\n\nconst checkEmptyData = data => {\n  if (data.hits.length === 0) {\n    errorMsg();\n    galleryList.innerHTML = '';\n    return true;\n  }\n};\nconst checkEmptyInput = userQuery => {\n  if (userQuery.trim() === '') {\n    warmMsg();\n    form.elements.user_query.focus();\n    return true;\n  }\n};\nexport { checkEmptyData, checkEmptyInput };\n","import { getFetchData } from './pixabay-api';\nimport { renderAllCards } from './render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport { checkEmptyData, checkEmptyInput } from './checkFunctions';\n\nconst galleryList = document.querySelector('.gallery');\nconst form = document.querySelector('form');\nlet gallery = new SimpleLightbox('.gallery a');\n\nconst onFormSubmit = e => {\n  e.preventDefault();\n  \n  const userQuery = form.elements.user_query.value;\n  if (checkEmptyInput(userQuery)) return;\n  \n  galleryList.innerHTML = '';\n  const loader = document.querySelector('.loader');\n  loader.classList.add('isVisible');\n\n  getFetchData(userQuery)\n    .finally(() => {\n      loader.classList.remove('isVisible');\n    })\n    .then(data => {\n      if (checkEmptyData(data)) return;\n      const cards = renderAllCards(data.hits);\n      galleryList.innerHTML = '';\n      galleryList.insertAdjacentHTML('beforeend', cards);\n      gallery.refresh()\n    })\n    .catch(err => err);\n  form.reset();\n};\n\nexport { onFormSubmit };\n","import { onFormSubmit } from './js/onFormSubmit';\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', onFormSubmit);\n"],"names":["KEY","axios","getFetchData","query","err","renderAllCards","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","iconError","iconWarning","optionsWarming","optionsError","warmMsg","iziToast","errorMsg","galleryList","form","checkEmptyData","checkEmptyInput","userQuery","gallery","SimpleLightbox","onFormSubmit","e","loader","cards"],"mappings":"owBAEA,MAAMA,EAAM,qCACZC,EAAM,SAAS,QAAU,sBAEzB,MAAMC,EAAe,MAAMC,GAAS,CAClC,GAAI,CAWF,OAFsB,MAAMF,EAAM,QARb,CACnB,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,WAAY,EACb,CACP,CAC2D,GAElC,IACtB,OAAQC,EAAK,CACZ,MAAM,IAAI,MAAMA,CAAG,CACpB,CACH,ECrBMC,EAAiBC,GACdA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,0CAC2BL,CAAa;AAAA,wBAC/BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAKLC,CAAK;AAAA;AAAA;AAAA;AAAA,6CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,iDAIPC,CAAS;AAAA;AAAA,kBAIrD,EACA,KAAK,EAAE,ECpCGC,EAAA,gDCAAC,EAAA,+CCITC,EAAiB,CACrB,MAAO,UACP,QAAS,8BACT,gBAAiB,UACjB,SAAU,WACV,MAAO,OACP,QAASD,EACT,QAAS,GACX,EACME,EAAe,CACnB,MAAO,OACP,SAAU,WACV,QACE,4EACF,gBAAiB,WACjB,QAASH,EACT,SAAU,QACV,QAAS,GACX,EACMI,EAAU,IAAM,CACpBC,EAAS,QAAQH,CAAc,CACjC,EACMI,EAAW,IAAM,CACrBD,EAAS,MAAMF,CAAY,CAC7B,EC3BMI,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAO,SAAS,cAAc,MAAM,EAEpCC,EAAiBjB,GAAQ,CAC7B,GAAIA,EAAK,KAAK,SAAW,EACvB,OAAAc,IACAC,EAAY,UAAY,GACjB,EAEX,EACMG,EAAkBC,GAAa,CACnC,GAAIA,EAAU,KAAM,IAAK,GACvB,OAAAP,IACAI,EAAK,SAAS,WAAW,QAClB,EAEX,ECZMD,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAO,SAAS,cAAc,MAAM,EAC1C,IAAII,EAAU,IAAIC,EAAe,YAAY,EAE7C,MAAMC,EAAeC,GAAK,CACxBA,EAAE,eAAc,EAEhB,MAAMJ,EAAYH,EAAK,SAAS,WAAW,MAC3C,GAAIE,EAAgBC,CAAS,EAAG,OAEhCJ,EAAY,UAAY,GACxB,MAAMS,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAU,IAAI,WAAW,EAEhC5B,EAAauB,CAAS,EACnB,QAAQ,IAAM,CACbK,EAAO,UAAU,OAAO,WAAW,CACzC,CAAK,EACA,KAAKxB,GAAQ,CACZ,GAAIiB,EAAejB,CAAI,EAAG,OAC1B,MAAMyB,EAAQ1B,EAAeC,EAAK,IAAI,EACtCe,EAAY,UAAY,GACxBA,EAAY,mBAAmB,YAAaU,CAAK,EACjDL,EAAQ,QAAS,CACvB,CAAK,EACA,MAAMtB,GAAOA,CAAG,EACnBkB,EAAK,MAAK,CACZ,EC9BMA,EAAO,SAAS,cAAc,MAAM,EAE1CA,EAAK,iBAAiB,SAAUM,CAAY"}